{% set position = 'left' %}

{% if summary is not defined %}
    {% set summary = false %}
{% endif %}

<section class="timeline">
    <ul class="timeline-list"> 
        {% for event in timeline.events %}
            {% if position == 'left' %}
                {% set class_name = 'timeline-panel-container' %}
                {% set position = 'right' %}
            {% else %}
                {% set class_name = 'timeline-panel-container-inverted' %}
                {% set position = 'left' %}
            {% endif %}
            <li id="{{ event.id }}" class="search-item">
                <div class="{{ class_name }}">
                    <div class="timeline-panel">
                        <div class="timeline-heading">
                            <h3><a href="#{{ event.id }}">{{ event.title }}</a></h3>
                            <h4>{{ event.duration }}</h4>
                        </div>
                        <div class="black-divider"></div>
                        <div class="timeline-body">
                            {{ event.presentation|nl2br }}

                            <div class="mt-2 text-end">
                                <span class="btn-group btn-group-sm">
                                    {% if summary %}
                                        <a href="#offcanvasList" title="Recherche" class="btn btn-outline-secondary offcanvas-btn">
                                            <i class="fa-solid fa-magnifying-glass fa-fw"></i>
                                            <span class="visually-hidden">Recherche</span>
                                        </a>
                                    {% endif %}
                                    <a href="#" title="Retourner en haut" class="btn btn-outline-secondary">
                                        <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i> 
                                        <span class="visually-hidden">Retourner en haut</span>
                                    </a>                            
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        {% endfor %}
    </ul>
</section>